{% extends "../base/base.html" %}

{% block title %}Asset Detail{% endblock %}

{% block content %}

<!-- Header -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h5 class="fw-semibold mb-0">
            {{ asset.name }} ({{ asset.symbol }})
        </h5>
        <small class="text-muted">{{ asset.asset_type }}</small>
    </div>

    <a href="#" class="btn btn-primary btn-sm">
        <i class="bi bi-plus-circle me-1"></i>
        Invest
    </a>
</div>

<!-- Metrics -->
<div class="row g-4 mb-4">
    <div class="col-md-3">
        <div class="card p-3">
            <small class="text-muted">Current Price</small>
            <h5 class="fw-bold">${{ asset.price }}</h5>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3">
            <small class="text-muted">Asset Type</small>
            <h5 class="fw-bold">{{ asset.asset_type }}</h5>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3">
            <small class="text-muted">Volatility</small>
            <h5 class="fw-bold">{{ asset.volatility }}</h5>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3">
            <small class="text-muted">Listed Since</small>
            <h5 class="fw-bold">
                {{ asset.created_at|date:"Y-m-d" }}
            </h5>
        </div>
    </div>
</div>

<!-- Price Chart -->
<div class="card p-4 mb-4">
    <h6 class="fw-semibold mb-3">Price History</h6>
    <div class="chart-container-sm">
        <canvas id="assetPriceChart"></canvas>
    </div>
</div>

<!-- Conditional Sections -->
{% if asset.asset_type == "REIT" %}
    <div class="alert alert-success">
        This asset distributes periodic income.
    </div>
{% elif asset.asset_type == "ETF" %}
    <div class="alert alert-warning">
        This is a diversified fund tracking an index.
    </div>
{% endif %}

{% endblock %}
